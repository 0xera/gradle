// START SNIPPET project-dependencies
project(":lib") {
    apply plugin: "cpp-lib"
}

project(":exe") {
    apply plugin: "cpp-exe"

    cpp.sourceSets.main.libs << project(":lib").libraries.main
    binaries.mainExecutable.libs << project(":lib").binaries.mainSharedLibrary
}
// END SNIPPET project-dependencies

task build(dependsOn: project(":exe").mainExecutable)
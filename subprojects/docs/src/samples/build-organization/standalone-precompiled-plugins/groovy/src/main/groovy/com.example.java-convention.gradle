// tag::apply-external-plugin[]
plugins {
    id 'java'
    id 'checkstyle'

    // NOTE: external plugin version is specified in implementation dependency artifact of the project's build file
    id 'com.github.spotbugs'
}
// end::apply-external-plugin[]

def checkstyleConfigFile = project.file("$buildDir/checkstyle.xml")

afterEvaluate {
    buildDir.mkdir()
    com.example.CheckstyleUtil.copyFileFromJar("/checkstyle.xml", checkstyleConfigFile)
}

checkstyle {
    configFile = checkstyleConfigFile
    maxWarnings = 0
}

tasks.withType(JavaCompile) {
    options.compilerArgs << "-Xlint:deprecation"
}

repositories {
    jcenter() // could be a company's private repository
}

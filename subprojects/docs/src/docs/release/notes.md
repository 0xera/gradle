## New and noteworthy

Here are the new features introduced in this Gradle release.

<!--
IMPORTANT: if this is a patch release, ensure that a prominent link is included in the foreword to all releases of the same minor stream.
Add-->

<!--
### Example new and noteworthy
-->

### Faster Gradle builds

Gradle is now faster than ever. A number of performance improvements targeted at "execution time" (i.e. the part of the build lifecycle
where Gradle is actually performing the actions of the build) have been introduced with this release:

* Messages are logged to the console more efficiently.
* A performance bottleneck when reading `gradle.properties` has been fixed.
* Compiled build scripts are cached more efficiently.
* Communication between the client and the daemon has been optimized.
* Test report generation is more efficient.
* Forked test processes start up faster.

Stress tests run as part of Gradle's own build pipeline have demonstrated up to a 25% improvement in build time.  For example, the
build time for a full assemble of a 500 project build has been reduced by 10%; a partial assemble of the same 500 project build has been
reduced by 18%; and the time for assembly and test execution of a 25 project build has been reduced by 25%.

No change is required for builds to leverage these performance improvements.

### More convenient testing of Gradle plugins

Gradle 2.6 introduced the “[Gradle TestKit](userguide/test_kit.html)” which made it easier to thoroughly test Gradle plugins.
The TestKit has improved and matured with subsequent Gradle releases.

Starting with Gradle 2.13, less manual build configuration is required in order to make your plugin implementation available to test builds.
The [Java Gradle Plugin Development Plugin](userguide/javaGradle_plugin.html) now integrates with the TestKit by making the plugin under test's implementation classpath discoverable at test time.

See the [TestKit chapter in the Gradle User Guide](userguide/test_kit.html#sub:test-kit-automatic-classpath-injection) for more about this new feature.

### Customizing the HTML reports of Checkstyle and FindBugs

The HTML reports generated by the Checkstyle and FindBugs plugins can now be customized with local XSLT stylesheets.
See the documentation for the [Checkstyle](userguide/checkstyle_plugin.html) and [FindBugs](userguide/findbugs_plugin.html)
plugins for more details. Note that sample stylesheets for both plugins are available at:

- Checkstyle: [https://github.com/checkstyle/contribution/tree/master/xsl](https://github.com/checkstyle/contribution/tree/master/xsl)
- Findbugs: [https://github.com/findbugsproject/findbugs/tree/master/findbugs/src/xsl](https://github.com/findbugsproject/findbugs/tree/master/findbugs/src/xsl)

### Support for Groovydoc's noTimestamp and noVersionStamp flags

Groovy 2.4.6 adds two new flags to its Groovydoc command.
Using these flags produce Groovydoc HTML pages without timestamp or Groovy version stamp information embedded within them.
This means that it is harder to determine when or which version of Groovy produced the pages but means the pages remain totally unchanged across builds unless the actual content changes.

Two properties are added and can be used as follows.

    groovydoc {
        noTimestamp = true
        noVersionStamp = true
    }

The flags are ignored for versions of Groovy prior to 2.4.6.

### Signing with OpenPGP subkeys

OpenPGP supports subkeys, which are like normal keys, except they're bound to a master key pair.

One useful feature of OpenPGP subkeys is that they can be revoked independently of the master keys which makes key management easier.
You only need the subkey for signature operations, which lets you deploy only your signing subkey to a CI server.

A limitation in the previous versions of the signing plugin prevented the use of subkeys.
See the documentation for the [Signing](userguide/signing_plugin.html) plugin for more details.

## Promoted features

Promoted features are features that were incubating in previous versions of Gradle but are now supported and subject to backwards compatibility.
See the User guide section on the “[Feature Lifecycle](userguide/feature_lifecycle.html)” for more information.

The following are the features that have been promoted in this Gradle release.

<!--
### Example promoted
-->

## Fixed issues

## Deprecations

Features that have become superseded or irrelevant due to the natural evolution of Gradle become *deprecated*, and scheduled to be removed
in the next major Gradle version (Gradle 3.0). See the User guide section on the “[Feature Lifecycle](userguide/feature_lifecycle.html)” for more information.

The following are the newly deprecated items in this Gradle release. If you have concerns about a deprecation, please raise it via the [Gradle Forums](http://discuss.gradle.org).

<!--
### Example deprecation
-->

## Potential breaking changes

<!--
### Example breaking change
-->

### Deleting no longer follows symlinks

The [Delete](current/dsl/org.gradle.api.tasks.Delete.html) task will no longer follow symlinks by default and
<a href="current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:delete(java.lang.Object[])">project.delete(paths)</a> will not follow symlinks at all.
This was done to prevent issues where Gradle would attempt to delete files outside of Gradle's build directory (e.g. NPM installed in a user-writeable location).

Previous versions of Gradle would follow symlinks when deleting files. If you need the `Delete` task to follow symlinks set `followSymlinks = true`.
If you need `project.delete()` to follow symlinks, replace it with [ant.delete()](https://ant.apache.org/manual/Tasks/delete.html).

### Project Dependencies now include classifiers and all artifacts in generated POM files

Previously, dependencies between projects in a multi-project gradle build, would not respect classifiers when generating `pom` files for publishing to maven
repositories. It is possible that this caused gradle users to create workarounds and post-processing of `pom` files before archiving them. If the `pom` files
generated by this release of Gradle for your project are broken compared to previous releases this is probably why. Make sure your project dependencies,
specified in one of thes two forms:

    dependencies {
        <configuration> project(':<project>')
        <configuration> project(path: ':<project>', configuration: '<targetConfiguration>')
    }

Is actually pulling in exactly what you want.

Before this change, generating the `pom` file for uploading the archives generated by a build, would NOT include any classifiers specified on the default artifacts
produced by the project on which the current project was depending.  In addition, ONLY the single default artifact exported in a given configuration would be
included in the generated `pom`.

After this change, all of the artifacts (instead of just the default one) exported in a given configuration on the project will be included in the generated `pom`,
and any artifact which has a classifier specified will also show that classifier in the generated `pom`.

The best way to understand what is changed is through an example.  Suppose you have two projects in your build `project1` depends on `project2`'s `default`
configuration in the `compile` configuration, and on `project2`'s `testCompile` configuration in its `testRuntime` configuration. `project2` adds the `defaultJar`
classifier to the default jar file generated by the project, and creates a `testJar` which contains the test classes used to test `project2` and adds that jar
to the `testRuntime` configuration's artifacts. Now, since the `testRuntime` extends from the `compile` runtime, it should contain both the default jar and the
test jar.

    allprojects {
        group = 'org.gradle.test'
        version = 1.9
    }

    subprojects {
        apply plugin: 'java'
        apply plugin: 'maven'

        uploadArchives {
            repositories {
                mavenDeployer {
                    repository(url: "file:///$rootProject.projectDir/maven-repo")
                }
            }
        }
    }

    project(':project1') {
        dependencies {
            compile project(':project2')
            testCompile project(path: 'project2', configuration: 'testRuntime')
        }
    }

    project(':project2') {
        jar {
            classifier = 'defaultJar'
        }

        task testJar(type: Jar, dependsOn: classes) {
            from sourceSets.test.output
            classifier = 'tests'
        }

        artifacts {
            testRuntime  testJar
        }
    }

In the previous version of Gradle, the resulting `project1-1.9.pom` would have included these dependencies (comments added):

    ...
    <dependencies>
     <dependency>
        <groupId>org.gradle.test</groupId>
        <artifactId>project2</artifactId>
        <version>1.9</version>
        <!-- Missing the 'defaultJar' classifier -->
        <scope>compile</scope>
      </dependency>
     <dependency>
        <groupId>org.gradle.test</groupId>
        <artifactId>project2</artifactId>
        <version>1.9</version>
        <!-- Missing the 'defaultJar' classifier -->
        <scope>test</scope>
      </dependency>
      <!-- Missing the dependency on 'testJar' completely -->
    </dependencies>
    ...

In this version of Gradle, the POM file for `project1` would have included this dependency:

    ...
    <dependencies>
      <dependency>
        <groupId>org.gradle.test</groupId>
        <artifactId>project2</artifactId>
        <version>1.9</version>
        <classifier>defaultJar</classifier>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>org.gradle.test</groupId>
        <artifactId>project2</artifactId>
        <version>1.9</version>
        <classifier>defaultJar</classifier>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.gradle.test</groupId>
        <artifactId>project2</artifactId>
        <version>1.9</version>
        <classifier>tests</classifier>
        <scope>test</scope>
      </dependency>
    </dependencies>
    ...

This improved behavior may mean you no longer need workarounds in your build scripts, but you might have to change those same build scripts so that the existing
workarounds don't break the `pom` or add duplicate entries.

### Task input properties names now follow the JavaBean specification

Task input properties now follow the JavaBean specification and thus are on par with Groovy. This means that:

- Input properties are now addressed with coherent names in validation error messages, the DSL and through `task.getInputs().getProperties()`.
- Input properties with getters like `getCFlags()` are now addressable through `task.getInputs().getProperties()` via `CFlags` instead of the erroneous `cFlags`.
- Input properties with getters like `getURL()` are now addressable through `task.getInputs().getProperties()` via `URL` instead of the erroneous `uRL`.

### Gradle implementation dependencies are not visible to plugins at development time

Implementing a Gradle plugin requires the declaration of `gradleApi()`
to the `compile` configuration. The resolved dependency encompasses the
entire Gradle runtime including Gradle's third party dependencies
(e.g. Guava). Any third party dependencies declared by the plugin might
conflict with the ones pulled in by the `gradleApi()` declaration. Gradle
does not apply conflict resolution. As a result The user will end up with
two addressable copies of a dependency on the compile classpath and in
 the test runtime classpath.

In previous versions of Gradle the dependency `gradleTestKit()`, which
relies on a Gradle runtime, attempts to address this problem via class
relocation. The use of `gradleApi()` and `gradleTestKit()` together
became unreliable as classes of duplicate name but of different content
were added to the classpath.

With this version of Gradle proper class relocation has been implemented
 across the dependencies `gradleApi()`, `gradleTestKit()` and the published
 Tooling API JAR. Projects using any of those dependencies will not
 conflict anymore with classes from third party dependencies used by
 the Gradle runtime.


## External contributions

We would like to thank the following community members for making contributions to this release of Gradle.

* [Alexander Afanasyev](https://github.com/cawka) - allow configuring java.util.logging in tests ([GRADLE-2524](https://issues.gradle.org/browse/GRADLE-2524))
* [Randall Becker](https://github.com/rsbecker) - bypass ulimit in NONSTOP os
* [Bryan Bess](https://github.com/squarejaw) - fix documentation layout for scala and groovy plugins
* [Thomas Broyer](https://github.com/tbroyer) - add design doc for better/built-in Java annotation processing support
* [Schalk Cronjé](https://github.com/ysb33r) - update docs about `getFile()` and filters
* [Jeffrey Crowell](https://github.com/crowell) - upgrade Apache Commons Collections to v3.2.2
* [Ryan Ernst](https://github.com/rjernst) - support system properties from the command-line for buildSrc builds ([GRADLE-2475](https://issues.gradle.org/browse/GRADLE-2475))
* [Endre Fejese](htts://github.com/fejese) - fix a typo in a javadoc comment
* [Ethan Hall](https://github.com/ethankhall) - make Delete tasks not follow symlinks ([GRADLE-2892](https://issues.gradle.org/browse/GRADLE-2892))
* [Alpha Hinex](https://github.com/alphahinex) - upgrade to Ant 1.9.6
* [Jeremie Jost](https://github.com/jjst) - fix a typo in the application plugin documentation
* [Paul King](https://github.com/paulk-asert) - support groovydoc's `noTimestamp` and `noVersionStamp` properties
* [Maciej Kowalski](https://github.com/fkowal) - move `DEFAULT_JVM_OPTS` after `APP_HOME` in application plugin
* [Denis Krapenko](https://github.com/dkrapenko) - support multiple values for some command-line options
* [Guillaume Laforge](https://github.com/glaforge) - remove extraneous `public` keywords from build.gradle
* [Evgeny Mandrikov](https://github.com/Godin) - upgrade default JaCoCo version to 0.7.6
* [Raymond Navarette](https://github.com/rnavarette) - add classifiers for project dependencies in generated POM files ([GRADLE-3030](https://issues.gradle.org/browse/GRADLE-3030))
* [Pierre-Etienne Poirot](https://github.com/pepoirot) - support for stylesheets with FindBugs and Checkstyle
* [Oliver Reissig](https://github.com/oreissig) - improve error message when `tools.jar` is not found
* [Andrew Reitz](https://github.com/pieces029) - fix a broken link to the groovy documentation
* [Baruch Sadogursky](https://github.com/jbaruch) - add jcenter repository example to the userguide
* [Marcin Zajączkowski](https://github.com/szpak) - Support for OpenPGP subkeys in the signing plugin, add Project.findProperty method, fix a test which was failing against the OpenJDK

<!--
* [Some person](https://github.com/some-person) - fixed some issue (GRADLE-1234)
-->

We love getting contributions from the Gradle community. For information on contributing, please see [gradle.org/contribute](http://gradle.org/contribute).

## Known issues

Known issues are problems that were discovered post release that are directly related to changes made in this release.

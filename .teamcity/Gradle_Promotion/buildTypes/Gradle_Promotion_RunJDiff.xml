<?xml version="1.0" encoding="UTF-8"?>
<build-type xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" uuid="dbd6214d-18eb-41dc-b2ee-f651594971b6" xsi:noNamespaceSchemaLocation="http://www.jetbrains.com/teamcity/schemas/10.0/project-config.xsd">
  <name>Release - JDiff Report</name>
  <description>Runs JDiff with customizable old/new versions</description>
  <settings>
    <options>
      <option name="artifactRules" value="incoming-build-receipt/build-receipt.properties =&gt; incoming-build-receipt&#xA;promote-projects/gradle/build/reports/jdiff =&gt; jdiff" />
      <option name="checkoutMode" value="ON_SERVER" />
    </options>
    <parameters>
      <param name="newVersion" value="origin/release" />
      <param name="oldVersion" value="4.2" spec="text display='prompt' description='Old version of Gradle to diff against' label='oldVersion' validationMode='not_empty'" />
    </parameters>
    <build-runners>
      <runner id="RUNNER_9" name="Promote" type="gradle-runner">
        <parameters>
          <param name="org.jfrog.artifactory.selectedDeployableServer.defaultModuleVersionConfiguration" value="GLOBAL" />
          <param name="teamcity.coverage.emma.include.source" value="true" />
          <param name="teamcity.coverage.emma.instr.parameters" value="-ix -*Test*" />
          <param name="teamcity.coverage.idea.includePatterns" value="*" />
          <param name="teamcity.step.mode" value="default" />
          <param name="ui.gradleRunner.additional.gradle.cmd.params" value="-POLD_VERSION=%oldVersion%" />
          <param name="ui.gradleRunner.gradle.tasks.names" value="clean jdiff" />
          <param name="ui.gradleRunner.gradle.wrapper.useWrapper" value="true" />
        </parameters>
      </runner>
    </build-runners>
    <vcs-settings />
    <requirements />
    <build-triggers>
      <build-trigger id="TRIGGER_112" type="buildDependencyTrigger">
        <parameters>
          <param name="afterSuccessfulBuildOnly" value="true" />
          <param name="branchFilter" value="+:release" />
          <param name="dependsOn" value="Gradle_Check_Stage_QuickFeedback_Trigger" />
        </parameters>
      </build-trigger>
    </build-triggers>
    <artifact-dependencies>
      <dependency id="ARTIFACT_DEPENDENCY_9" sourceBuildTypeId="Gradle_Check_Stage_QuickFeedback_Trigger" cleanDestination="true">
        <revisionRule name="lastSuccessful" revision="latest.lastSuccessful" branch="release" />
        <artifact sourcePath="build-receipt.properties =&gt; incoming-build-receipt/" />
      </dependency>
    </artifact-dependencies>
    <cleanup />
  </settings>
</build-type>


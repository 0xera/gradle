Sample Kotlin-based Gradle build scripts
========================================

The Gradle projects in this directory demonstrate typical use cases with and features available in Gradle Script Kotlin. They include:

 - [`hello-world`](hello-world): plugin application and configuration, dependency management, JUnit testing
 - [`copy`](copy): typed task declarations, configuration of a Gradle `CopySpec`
 - [`extra-properties`](extra-properties): use of `extra` properties (equivalent of the `ext` properties found in Gradle Script Groovy)


Set up dev environment
----------------------

_Note: Currently, these instructions only address working with IntelliJ IDEA. In the future, they'll be expanded to include working with Eclipse._

### Install IntelliJ IDEA

Version 2016.1.2 or better is required, and can be downloaded from https://www.jetbrains.com/idea.

### Install IDEA Kotlin Plugin

_Note: the specific version of the Kotlin plugin matters. Follow the instructions below regardless the version you already have installed._

 1. Go to https://teamcity.jetbrains.com/repository/download/bt345/766796:id/kotlin-plugin-1.1.0-dev-372.zip
 2. You will be prompted to log in. Click the **Log in as guest** link. The plugin will download.
 3. In IDEA, Go to `Preferences->Plugins->Install from disk`
 4. Install the plugin and restart IDEA


Set up a sample project
-----------------------

### Clone the Gradle Script Kotlin repository

If you have not already done so, clone the gradle-script-kotlin repository:

    git clone git@github.com:gradle/gradle-script-kotlin.git # ($REPO_ROOT)

_Note: The remainder of these instructions focus on the `hello-world` sample project, but will work equally well for any of the other samples._

### Generate the Kotlin Script configuration file

The `gradle.ktscfg.xml` file generated by the `generateKtsConfig` task below provides metadata to IDEA's Kotlin plugin that enables auto-completion, source navigation and other features. The need for this file is temporary; it is expected to be unnecessary by the time Gradle Script Kotlin 1.0 is released.

    cd $REPO_ROOT
    cd samples/hello-world
    ./gradlew generateKtsConfig

_Note: using the local `./gradlew` wrapper is essential, as it is pinned to a custom Gradle distribution that contains the `gradle-script-kotlin` module. The custom distribution will be unnecessary once the first milestone of Gradle 3.0 is released._

### Import the sample project into IDEA

In IDEA, go to `File->Open...` and navigate to `$REPO_ROOT/samples/hello-world`

The project should import without errors.

### Patch IDEA configuration for the project

Within the `$REPO_ROOT/samples/hello-world` directory, run

    ./gradlew patchIdeaConfig

This step configures the project with an IDEA library that includes Gradle Core and Gradle Script Kotlin sources, in order to make quick documentation and navigation to source possible. This step is also temporary, and will not be required in Gradle Script Kotlin 1.0.

### Explore available IDE support

You're now ready to explore what's possible with Gradle Script Kotlin in IDEA. Generally speaking, things should "just work", as they would in the context of any other Java or Kotlin code you would write in IDEA.

Start by opening `build.gradle.kts`, and continue with any or all of the following:

#### Syntax highlighting

TODO: add instructions

#### Auto-completion / content assist

TODO: add instructions

#### Symbol navigation

TODO: add instructions

#### Quick documentation

TODO: add instructions

#### Refactoring

TODO: add instructions

See [doc/release-notes](../doc/release-notes) for further details on current features and limitations.

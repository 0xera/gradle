buildscript {
    ext.kotlinVersion = '1.1.0-dev-372'

    ext.ciProperty = { p ->
        project.hasProperty(p) ? project.property(p) : System.properties[p]
    }

    repositories {
        maven {
            url 'https://repo.gradle.org/gradle/fram'
            credentials {
                username = ciProperty('artifactory_user')
                password = ciProperty('artifactory_password')
            }
        }
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
    }
}

apply plugin: 'kotlin'

dependencies {
    compile gradleApi()
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
    compile "org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion"
    compile "org.jetbrains.kotlin:kotlin-compiler-embeddable:$kotlinVersion"
    testCompile 'junit:junit:4.12'
}

repositories {
    maven {
        url 'https://repo.gradle.org/gradle/fram'
        credentials {
            username = ciProperty('artifactory_user')
            password = ciProperty('artifactory_password')
        }
    }
}
